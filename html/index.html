<!doctype html>
<html>
  <head>
    <link href="https://s3.amazonaws.com/codecademy-content/courses/ltp2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

      <div id = "weatherThing">
            <form>
        Enter A Utah City: <input type="text" id="cityfield" value=""><br>
        Suggestion: <span id="txtHint">Empty</span>
        <input id="button" type="submit" value="Submit">
        </form>
        <p>City</p>
        <textarea id="dispcity">No City</textarea>
        <p>Current Weather</p>
<div id="weather">No weather</div>

</form>
    </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="app.js"></script>
<script>
$( "#cityfield" ).keyup(function() {
  var url = "getcity?q=" +$("#cityfield").val();
    console.log("url = " + url);
$.getJSON(url,function(data) {
    var everything;
    everything = "<ul>";
    $.each(data, function(i,item) {
      everything += "<li> "+data[i].city;
    });
    everything += "</ul>";
    $("#txtHint").html(everything);
  })
  .done(function() { console.log('getJSON request succeeded!'); })
  .fail(function(jqXHR, textStatus, errorThrown) { 
    console.log('getJSON request failed! ' + textStatus); 
    console.log("incoming "+jqXHR.responseText);
  })
  .always(function() { console.log('getJSON request ended!');
  })
  .complete(function() { console.log("complete"); });
});
</script>
  </body>
</html>